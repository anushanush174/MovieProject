<div>
<button *ngIf="!isLogged; else logout" class="login-logout-btn" routerLink="auth/login">Log In</button>
<button *ngIf="!isLogged" class="login-logout-btn" routerLink="auth/signup">Signup</button>

</div>
<ng-template #logout>
  <div>
    <button type="submit" class="login-logout-btn" (click)="onLogout()">Log Out</button>
  </div>
</ng-template>
<app-search></app-search>
<div *ngIf="isLogged">
  <button class="add-button" routerLink="/create-movie">Create Movie</button>
</div>
<div class="list">
  <div *ngFor="let movie of movieList" class="movie-list">
    <div class="img-container">
      <img src="{{ movie.posterUrl }}" class="img-class" />
    </div>
    <div *ngIf="isLogged && userData.user_type === 'admin'">
      <div class="btn-div">
        <app-delete-movie [movieId]="movie.id"></app-delete-movie>
      </div>
      <div class="btn-div">
        <button class="edit-btn" [routerLink]="['/update-movie/', movie.id]">
          Edit
        </button>
      </div>
    </div>
    <div>
      <span>
        <h1 class="title">{{ movie.title }}</h1>
        <h2 class="year">({{ movie.year }})</h2>
        <div>
          <small><strong>Genre:</strong> {{ movie.genres }}</small> <br />
          <small><strong>Actors:</strong> {{ movie.actors }}</small> <br />
          <small><strong>Duration:</strong> {{ movie.duration }}</small> <br />
          <small><strong>Rating:</strong>{{ movie.rateingAverage | number: "1.1-2" }} from 10</small>
        </div>
        <div class="description">
          <h4>Description</h4>
          {{ movie.storyline }}
        </div>
      </span>
    </div>
  </div>
  <div class="btns">
    <button class="btn" (click)="nextPage()">Next</button>
    <button class="btn" (click)="previewPage()">Preview</button>
  </div>
</div>
